#!/usr/bin/env bash

# Symbolic link with .dotfiles to ~/$HOME directory
find "$(pwd)" -name ".*" -type f -maxdepth 1 | xargs -I '{}' ln -s '{}' ~

# Ignore system/zcustom.sh file. http://stackoverflow.com/a/653495/462015
git update-index --skip-worktree system/zcustom.sh


# Install Homebrew
/usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"


# Install formulas
brew install autossh
brew install bash-completion@2
brew install diff-so-fancy
brew install docker docker-machine docker-compose
brew install elixir
brew install git
brew install go
brew install hr
brew install htop-osx
brew install httpie
brew install hub
brew install kubectl
brew install leiningen
brew install mobile-shell
brew install nmap
brew install pstree
brew install rbenv ruby-build
brew install shellcheck
brew install the_silver_searcher
brew install tmux
brew install tree
brew install webkit2png
brew install wget
brew install wifi-password


# Install my own formulas
brew tap arturoherrero/formulae
brew install gvar


# Install Python packages
sudo easy_install Pygments


# Brew GUI Mac applications
brew cask install alfred
brew cask install authy
brew cask install bettertouchtool
brew cask install bitbar
brew cask install caffeine
brew cask install calibre
brew cask install cloud
brew cask install cyberduck
brew cask install dash
brew cask install db-browser-for-sqlite
brew cask install disk-inventory-x
brew cask install docker
brew cask install dropbox
brew cask install evernote
brew cask install firefox
brew cask install fromscratch
brew cask install google-chrome
brew cask install google-drive
brew cask install imageoptim
brew cask install intellij-idea-ce
brew cask install iterm2
brew cask install java
brew cask install jdownloader
brew cask install kap
brew cask install karabiner-elements
brew cask install kodi
brew cask install macdown
brew cask install macvim
brew cask install minikube
brew cask install openemu
brew cask install postman
brew cask install psequel
brew cask install robomongo
brew cask install sequel-pro
brew cask install skype
brew cask install slack
brew cask install sourcetree
brew cask install spotifree
brew cask install spotify
brew cask install steam
brew cask install telegram-desktop
brew cask install the-unarchiver
brew cask install tomighty
brew cask install tor-browser
brew cask install vagrant
brew cask install vagrant-manager
brew cask install virtualbox
brew cask install vlc
brew cask install webtorrent
brew cask install whatsapp


# Install MacVim & configuration
brew install macvim

git clone https://github.com/gmarik/Vundle.vim.git ~/.vim/bundle/Vundle.vim
mvim +PluginInstall +qall
mkdir ~/.vim/undodir

defaults write -app MacVim NSUserKeyEquivalents '{
  "Select Next Tab"="~@\Uf703";
  "Select Previous Tab"="~@\Uf702";
}'


# Install Atom & configuration
brew cask install atom
find "$(pwd)" -name "atom" -type d | xargs -I '{}' ln -s '{}' ~/.atom
apm install package-sync


# Bash 4 in OS X
brew install bash
sudo bash -c "echo $(brew --prefix)/bin/bash >> /etc/shells"
chsh -s "$(brew --prefix)"/bin/bash


# Prevent Time Machine from prompting to use new hard drives as backup volume
defaults write com.apple.TimeMachine DoNotOfferNewDisksForBackup -bool true

# Disable creation of metadata files on network volumes
defaults write com.apple.desktopservices DSDontWriteNetworkStores -bool true

# Disable creation of metadata files on USB volumes
defaults write com.apple.desktopservices DSDontWriteUSBStores -bool true

# Change screenshots format
defaults write com.apple.screencapture type jpg

# Require password immediately after sleep or screen saver begins
defaults write com.apple.screensaver askForPassword -int 1
defaults write com.apple.screensaver askForPasswordDelay -int 0

# Show battery life percentage.
defaults write com.apple.menuextra.battery ShowPercent -string "YES"

# Disable the warning when changing a file extension
defaults write com.apple.finder FXEnableExtensionChangeWarning -bool false

# Donâ€™t automatically rearrange Spaces based on most recent use
defaults write com.apple.dock mru-spaces -bool false


# Install all available software updates
sudo softwareupdate -ia
